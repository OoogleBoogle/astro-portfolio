---
import Nav from '../components/nav/Nav.astro';

export interface Props {
	title: string;
}

const currentPage = Astro.url.pathname;

const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang="en" class="bg-deep-purple">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Comfortaa&family=Raleway:wght@300;500&display=swap" rel="stylesheet">
		<title>{title}</title>
	</head>
	<body>
		<main class="grid grid-cols-1 grid-rows-[80px_1fr] xl:grid-cols-[450px_1fr] max-w-screen-xl m-auto h-screen overflow-hidden">
      <Nav></Nav>
      <div id="swup" class="main-content transition-fade h-screen">
				<div class="px-8 sm:px-20 md:px-32 xl:px-10 py-32 xl:py-36 h-screen overflow-scroll">
					<slot />
				</div>
      </div>
		</main>
		<script src="https://unpkg.com/swup@3"></script>
	</body>
</html>

<style is:global>
	html.is-animating .transition-fade {
		opacity: 0;
	}

	.transition-fade {
		transition: 0.8s;
		opacity: 1;
	}

	.main-content::before,
	.main-content::after {
		position: absolute;
		content: '';
		height: 120px;
		width: 100%;
		background: linear-gradient(to bottom, #14081F 10%, transparent);
		top: 0px;
		display: block;
	}

	.main-content::after {
		background: linear-gradient(to top, #14081F 10%, transparent);
		top: unset;
		bottom: 80px;
	}

	@media (min-width: 1280px) {
		.main-content::after {
			bottom: 0;
		}
	}
</style>

<script>
	import Swup from 'swup';
  import SwupSlideTheme from '@swup/slide-theme';
	import SwupA11yPlugin from '@swup/a11y-plugin';

	const swup = new Swup({
    plugins: [
			new SwupSlideTheme({
				reversed: true
			}),
      new SwupA11yPlugin()
		]
  });
</script>
