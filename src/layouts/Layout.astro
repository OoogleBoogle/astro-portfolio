---
import Nav from '../components/nav/Nav.astro';

export interface Props {
	title: string;
	description: string;
	canonical: string;
}

const { title, description, canonical } = Astro.props;
---

<!DOCTYPE html>
<html lang="en" class="bg-deep-purple">
	<head>
		<meta charset="UTF-8" />
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Comfortaa&family=Raleway:wght@300;500&display=swap" rel="stylesheet">
		<meta name="viewport" content="width=device-width" />
		<title>{title}</title>
		<meta name="description" content={description}>
		<link rel="canonical" href={canonical}>
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
		<link rel="manifest" href="/site.webmanifest">
		<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
		<meta name="msapplication-TileColor" content="#da532c">
		<meta name="theme-color" content="#ffffff">
		<meta name="generator" content={Astro.generator} />
		<meta property="og:title" content={title} />
		<meta property="og:type" content="website" />
		<meta property="og:url" content={canonical} />
		<meta property="og:image" content="/android-chrome-256x256.png" />
		<meta property="og:image:width" content="256" />
		<meta property="og:image:height" content="256" />
		<meta name="twitter:card" content="summary" />
		<meta name="twitter:site" content={canonical} />
		<meta name="twitter:title" content={title} />
		<meta name="twitter:description" content={description} />
		<meta name="twitter:image" content="/android-chrome-256x256.png" />
	</head>
	<body>
		<main class="grid grid-cols-1 grid-rows-[80px_1fr] xl:grid-cols-[450px_1fr] max-w-screen-xl m-auto h-[99vh] overflow-hidden">
      <Nav></Nav>
      <div id="swup" class="main-content transition-fade h-screen">
				<div class="px-8 sm:px-20 md:px-32 xl:px-10 pt-20 pb-36 xl:py-36 mb-20 h-screen overflow-y-auto overscroll-contain">
					<slot />
				</div>
      </div>
		</main>
		<script src="https://unpkg.com/swup@3"></script>
	</body>
</html>

<style is:global>
	html.is-animating .transition-fade {
		opacity: 0;
	}

	.transition-fade {
		transition: 0.8s;
		opacity: 1;
	}

	* {
		scrollbar-color: rgb(167 133 199 / 0.2) rgb(167 133 199 / 0.1);
		scrollbar-width: thin;
	}

	::-webkit-scrollbar {
		width: 2px;
	}

	::-webkit-scrollbar-track {
		background: rgb(167 133 199 / 0.1);
		border-radius: 5px;
	}

	::-webkit-scrollbar-thumb {
		background-color: rgb(167 133 199 / 0.2);
		border: 0px solid;
		border-radius: 14px;
	}

	.main-content::before,
	.main-content::after {
		background: linear-gradient(to bottom, #14081F 10%, transparent);
		content: '';
		display: block;
		height: 120px;
		pointer-events: none;
		position: absolute;
		top: 0px;
		width: 100%;
		z-index: 2;
	}

	.main-content::after {
		background: linear-gradient(to top, #14081F 10%, transparent);
		bottom: 80px;
		top: unset;
	}

	@media (min-width: 1280px) {
		.main-content::after {
			bottom: 0;
		}
	}

	main[tabindex="-1"] {
		outline: none;
	}
</style>

<script>
	import Swup from 'swup';
  import SwupSlideTheme from '@swup/slide-theme';
	import SwupA11yPlugin from '@swup/a11y-plugin';
	import SwupHeadPlugin from '@swup/head-plugin';
	import {inject} from '@vercel/analytics';

	inject();

	const swup = new Swup({
    plugins: [
			new SwupSlideTheme({
				reversed: true
			}),
      new SwupA11yPlugin(),
			new SwupHeadPlugin()
		]
  });
</script>
